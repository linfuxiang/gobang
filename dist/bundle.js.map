{"version":3,"sources":["webpack:///webpack/bootstrap f18554fd3dd08a931127","webpack:///./src/main.js","webpack:///./src/game.js"],"names":["window","game","init","GAME","canvasSelector","statusSelector","el","document","querySelector","ctx","getContext","statusEl","player","firstInit","waiting","rowNum","colNum","row","col","alert","chessGrid","chessmanSize","status","i","j","fillStyle","fillRect","beginPath","moveTo","lineTo","stroke","bindEvent","type","station","arc","Math","PI","fill","closePath","x","y","e","undefined","way","count","flagL","flagR","res","checkIfChess","addEventListener","layerX","layerY","offsetX","offsetY","xCount","floor","yCount","createChessman","innerHTML","judgeGameOver","setTimeout","innerText"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f18554fd3dd08a931127","import { GAME } from './game'\r\nwindow.game = new GAME('#canvas', '#status');\r\ngame.init(20, 20, 1000, 1000);\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/**\r\n * el 画布元素\r\n * ctx 画布context\r\n * statusEl 状态元素\r\n * player 当前玩家，true白棋，false黑棋\r\n * firstInit 是否初次渲染\r\n * waiting 是否游戏已结束，等待初始化\r\n * rowNum 行格子数量\r\n * colNum 列格子数量\r\n * row 行长度\r\n * col 列长度\r\n * chessGrid 格子大小\r\n * chessmanSize 棋子大小\r\n */\r\nclass GAME {\r\n    constructor(canvasSelector, statusSelector) {\r\n        this.el = document.querySelector(canvasSelector);\r\n        this.ctx = this.el.getContext('2d');\r\n        this.statusEl = document.querySelector(statusSelector);\r\n        this.player = false;\r\n        this.firstInit = true; // 是否第一次初始化\r\n        this.waiting = false;\r\n    }\r\n    /**\r\n     * 初始化棋盘\r\n     * @param  {Number} rowNum 行格子数量\r\n     * @param  {Number} colNum 列格子数量\r\n     * @param  {Number} row 行长度\r\n     * @param  {Number} col 列长度\r\n     */\r\n    init(rowNum, colNum, row, col) {\r\n        if (row / rowNum != col / colNum) {\r\n            alert('格子非正方形，不能初始化.');\r\n            return false;\r\n        }\r\n        this.rowNum = rowNum;\r\n        this.colNum = colNum;\r\n        this.row = row;\r\n        this.col = col;\r\n        // 设置格子大小\r\n        this.chessGrid = row / rowNum;\r\n        // 设置棋子大小\r\n        this.chessmanSize = row / rowNum / 2 - 2;\r\n\r\n        // 用二维数组设置棋局\r\n        this.status = [];\r\n        for (let i = 0; i < rowNum - 1; i++) {\r\n            this.status[i] = [];\r\n            for (let j = 0; j < colNum - 1; j++) {\r\n                this.status[i][j] = null;\r\n            }\r\n        }\r\n\r\n        // 画棋盘\r\n        // 画背景\r\n        this.ctx.fillStyle = \"#FFF\";\r\n        this.ctx.fillRect(0, 0, row, col);\r\n        // 画先跳\r\n        this.ctx.fillStyle = \"#FF0000\";\r\n        this.ctx.beginPath();\r\n        let i = 1;\r\n        while (i < rowNum) {\r\n            this.ctx.moveTo(0, i * row / rowNum);\r\n            this.ctx.lineTo(row, i * row / rowNum);\r\n            i++;\r\n        }\r\n        i = 1;\r\n        while (i < colNum) {\r\n            this.ctx.moveTo(i * col / colNum, 0);\r\n            this.ctx.lineTo(i * col / colNum, col);\r\n            i++;\r\n        }\r\n        this.ctx.stroke();\r\n        if (this.firstInit) {\r\n            this.firstInit = false;\r\n            this.bindEvent();\r\n        }\r\n    }\r\n    /**\r\n     * 创建棋子\r\n     * @param  {Boolean} type 黑棋type=false,白棋type=true\r\n     * @param  {Array} station [横坐标, 纵坐标]\r\n     */\r\n    createChessman(type, station) {\r\n        this.ctx.fillStyle = type ? '#fff' : '#000';\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(station[0], station[1], this.chessmanSize, 0, 2 * Math.PI);\r\n        this.ctx.fill();\r\n        this.ctx.fillStyle = '#000';\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(station[0], station[1], this.chessmanSize, 0, 2 * Math.PI);\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n    }\r\n\r\n    /**\r\n     * 判断是否有同样颜色的棋子\r\n     * @param  {Boolean} type 黑棋type=false,白棋type=true\r\n     * @param  {Number} x X坐标\r\n     * @param  {Number} y Y坐标\r\n     * @return {Boolean}   true白棋，false黑棋，null空，undefined超出边界\r\n     */\r\n    checkIfChess(x, y) {\r\n        // 由于有可能越出边界，所以使用trc-catch方便判断\r\n        try {\r\n            let status = this.status[x][y];\r\n            return status;\r\n        } catch (e) {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断游戏是否结束\r\n     * @param  {Number} x X坐标\r\n     * @param  {Number} y Y坐标\r\n     * @param  {Number} way 1横，2竖，3左上-右下，4左下-右上\r\n     * @param  {Boolean} direc 方向：1前，2后\r\n     * @param  {Number} count 计数\r\n     * @return {Boolean} [description]\r\n     */\r\n    judgeGameOver(x, y, way) {\r\n        let count = 1;\r\n        let flagL = false,\r\n            flagR = false;\r\n        switch (way) {\r\n            case 1:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x - i, y);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x + i, y);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (count == 5 || (flagL && flagR && count == 4)) {\r\n                    return true;\r\n                }\r\n                break;\r\n            case 2:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x, y - i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x, y + i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (count == 5 || (flagL && flagR && count == 4)) {\r\n                    return true;\r\n                }\r\n                break;\r\n            case 3:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x - i, y - i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x + i, y + i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (count == 5 || (flagL && flagR && count == 4)) {\r\n                    return true;\r\n                }\r\n                break;\r\n            case 4:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x + i, y - i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x - i, y + i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (count == 5 || (flagL && flagR && count == 4)) {\r\n                    return true;\r\n                }\r\n                break;\r\n        }\r\n        /*// 判断横\r\n        if (this.checkIfChess(x - 1, y) || this.checkIfChess(x + 1, y)) {\r\n            console.log('横')\r\n        }\r\n        // 判断竖\r\n        if (this.checkIfChess(x, y - 1) || this.checkIfChess(x, y + 1)) {\r\n            console.log('竖')\r\n        }\r\n        // 判断斜（左上-右下）\r\n        if (this.checkIfChess(x - 1, y - 1) || this.checkIfChess(x + 1, y + 1)) {\r\n            console.log('左上-右下')\r\n        }\r\n        // 判断斜（左下-右上）\r\n        if (this.checkIfChess(x - 1, y + 1) || this.checkIfChess(x + 1, y - 1)) {\r\n            console.log('左下-右上')\r\n        }*/\r\n    }\r\n\r\n    /**\r\n     * 绑定事件（下棋用）\r\n     * @return {[type]} [description]\r\n     */\r\n    bindEvent() {\r\n        this.el.addEventListener('click', (e) => {\r\n            if (this.waiting) {\r\n                return false;\r\n            }\r\n            let x, y;\r\n            if (e.layerX || e.layerX == 0) {\r\n                x = e.layerX;\r\n                y = e.layerY;\r\n            } else if (e.offsetX || e.offsetX == 0) { // Opera  \r\n                x = e.offsetX;\r\n                y = e.offsetY;\r\n            }\r\n            let xCount = Math.floor((x - this.chessGrid / 2) / this.chessGrid) + 1,\r\n                yCount = Math.floor((y - this.chessGrid / 2) / this.chessGrid) + 1;\r\n            // 满足下棋条件之后，下棋并判断是否游戏结束\r\n            if (xCount &&\r\n                yCount &&\r\n                xCount < this.rowNum &&\r\n                yCount < this.colNum &&\r\n                this.status[xCount - 1][yCount - 1] === null) {\r\n                this.createChessman(this.player, [this.chessGrid * xCount, this.chessGrid * yCount]);\r\n                this.status[xCount - 1][yCount - 1] = this.player;\r\n                this.statusEl.innerHTML += (this.player ? '白棋' : '黑棋') + '走：(' + xCount + ',' + yCount + ')<br/>';\r\n                // 判断游戏是否结束\r\n                if (this.judgeGameOver(xCount - 1, yCount - 1, 1) ||\r\n                    this.judgeGameOver(xCount - 1, yCount - 1, 2) ||\r\n                    this.judgeGameOver(xCount - 1, yCount - 1, 3) ||\r\n                    this.judgeGameOver(xCount - 1, yCount - 1, 4)) {\r\n                    this.statusEl.innerHTML += (this.player ? '白棋' : '黑棋') + '胜！';\r\n                    this.waiting = true;\r\n                    setTimeout(() => {\r\n                        this.statusEl.innerText = '';\r\n                        this.init(this.rowNum, this.colNum, this.row, this.col);\r\n                        this.waiting = false;\r\n                    }, 3000)\r\n                }\r\n                this.player = !this.player;\r\n            }\r\n        })\r\n    }\r\n}\r\nexport { GAME };\n\n\n// WEBPACK FOOTER //\n// ./src/game.js"],"sourceRoot":""}